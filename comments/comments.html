<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Comments</title>
	<link rel="shortcut icon" type="image/x-icon" href="./assets/logo (1).png"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="./css/comments.css">
</head>
<body>
      <div class="comments-container">
        <h1>User Comments</h1>
        <ul id="comments-list" class="comments-list">
          <li>
            <div class="comment-main-level">
              <!-- Avatar -->
              <div class="comment-avatar"><img src="./assets/5953.JPG" alt=""></div>
              <!-- Contenedor del Comentario -->
              <div class="comment-box">
                <div class="comment-head">
                  <h6 class="comment-name by-author"><a href="#">@User Name</a></h6>
                  <span class="posted-time">Posted on 11-08-21 11:19</span>
                  <i class="fa fa-reply"></i>
                  <i class="fa fa-heart"></i>
                </div>
                <div class="comment-content">
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?
                  <div class="comment-open">
                    <a class="btn-reply">
                      <i class="fa fa-reply"></i>
                    </a>
                  </div>
                </div>
                <div class="comment-footer">
                  <div class="comment-form">
                    <textarea class="form-control" name="" placeholder="Reply" id=""></textarea>
                    <div class="pull-right send-button">
                      <a class="btn-send">Send</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
    
            <ul class="comments-list reply-list">
              <li>
                <div class="comment-avatar"><img src="./assets/profile.svg.webp" alt=""></div>
                <div class="comment-box">
                  <div class="comment-head">
                    <h6 class="comment-name"><a href="#">@User Name</a></h6>
                    <span class="posted-time">Posted on DD-MM-YYYY HH:MM</span>
                    <i class="fa fa-reply"></i>
                    <i class="fa fa-heart"></i>
                  </div>
                  <div class="comment-content">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?
                    <div class="comment-open">
                      <a class="btn-reply">
                        <i class="fa fa-reply"></i>
                      </a>
                    </div>
                  </div>
                  <div class="comment-footer">
                  <div class="comment-form">
                    <textarea class="form-control" name="" placeholder="Reply" id=""></textarea>
                    <div class="pull-right send-button">
                      <a class="btn-send">Send</a>
                    </div>
                  </div>
                </div>
                </div>
              </li>

              <li>
                <div class="comment-avatar"><img src="./assets/5953.JPG" alt=""></div>
                <div class="comment-box">
                  <div class="comment-head">
                    <h6 class="comment-name by-author"><a href="#">@User Name</a></h6>
                    <span class="posted-time">Posted on DD-MM-YYYY HH:MM</span>
                    <i class="fa fa-reply"></i>
                    <i class="fa fa-heart"></i>
                  </div>
                  <div class="comment-content">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?
                    <div class="comment-open">
                      <a class="btn-reply">
                        <i class="fa fa-reply"></i>
                      </a>
                    </div>
                  </div>
                  <div class="comment-footer">
                  <div class="comment-form">
                    <textarea class="form-control" name="" placeholder="Reply" id=""></textarea>
                    <div class="pull-right send-button">
                      <a class="btn-send">Send</a>
                    </div>
                  </div>
                </div>
                </div>
              </li>
            </ul>
          </li>
    
          <li>
            <div class="comment-main-level">
              <div class="comment-avatar"><img src="./assets/profile.svg.webp" alt=""></div>
              <div class="comment-box">
                <div class="comment-head">
                  <h6 class="comment-name"><a href="#">@User Name</a></h6>
                  <span class="posted-time">Posted on DD-MM-YYYY HH:MM</span>
                  <i class="fa fa-reply"></i>
                  <i class="fa fa-heart"></i>
                </div>
                <div class="comment-content">
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?
                  <div class="comment-open">
                    <a class="btn-reply">
                      <i class="fa fa-reply"></i>
                    </a>
                  </div>
                </div>
                <div class="comment-footer">
                  <div class="comment-form">
                    <textarea class="form-control" name="" placeholder="Reply" id=""></textarea>
                    <div class="pull-right send-button">
                      <a class="btn-send">Send</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>

          <li>
            <div class="comment-main-level">
              <div class="comment-avatar"><img src="./assets/5953.JPG" alt=""></div>
              <div class="comment-box">
                <div class="comment-head">
                  <h6 class="comment-name"><a href="#">@User Name</a></h6>
                </div>
                <div class="comment-content">
                  <div class="comment-form">
                    <textarea class="form-control" name="" placeholder="Leave a Comment" id=""></textarea>
                    <div class="pull-right send-button">
                      <a class="btn-send">Send</a>
                    </div>
                </div>
              </div>
            </div>
          </li>

        </ul>
      </div>

<!-- Javascript -->
<script>
$(document).on('click', '.btn-reply', function(eve){	
    eve.preventDefault();
    $(this).parent().parent().siblings('.comment-footer').slideToggle();
    eve.stopImmediatePropagation();
    console.log($(this));
});

$(document).on('click', '.btn-send', function(eve){
    var targetObject = $(this).parent().parent().parent().parent().parent();
    //console.log(targetObject);
    var reply_text = $(this).parent().siblings('textarea').val();

    if($.trim(reply_text) == " " || $.trim(reply_text) == ""){
        alert("insert comment");
    } else {
    if($(targetObject).hasClass("comment-main-level"))
        {	
            if($(targetObject).siblings('.comments-list.reply-list')) {
                element_prepend = '<li> <div class="comment-avatar"><img alt="" src="/assets/profile.svg.webp"></div><div class="comment-box"> <div class="comment-head"> <h6 class="comment-name"><a href="#">Lorena Rojero</a></h6> <span class="posted-time">Posted on DD-MM-YYYY HH:MM</span> <i class="fa fa-reply"></i> <i class="fa fa-heart"></i> </div> <div class="comment-content">'+ reply_text +' <div class="comment-open"> <a class="btn-reply"> <i class="fa fa-reply"></i> </a> </div> </div> <div class="comment-footer"> <div class="comment-form"> <textarea id="" name="" class="form-control"></textarea> <div class="pull-right send-button"> <a class="btn-send">send</a> </div> </div> </div> </div> </li>';
                 $(targetObject).siblings('.comments-list.reply-list').prepend(element_prepend);
            }
        }
    }	
});
</script>


</body>
</html>
